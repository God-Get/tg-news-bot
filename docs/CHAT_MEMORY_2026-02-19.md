# Chat Memory - 2026-02-19

## Что зафиксировано
- Проект: `tg-news-bot` + `telegram-publisher`.
- Режим: обязательная модерация через Topics (INBOX/EDITING/READY/SCHEDULED/PUBLISHED/ARCHIVE).
- Основной фокус сейчас: развитие **интернет-скоринга** (поиск трендов и источников в сети), а не `draft_score` (качество уже обработанного поста внутри бота).

## Что уже было сделано ранее
- Большой пакет доработок по трендам, аналитике, source trust score, семантическому дедупу, рубрикатору, content safety, RU/EN хэштегам.
- Обновлялись `AGENTS.md` и `docs/PROJECT_PROMPT.md`.
- Миграции применялись, бот запускался через Docker.
- Ветка: `main`, репозиторий: `https://github.com/God-Get/tg-news-bot`.

## Последний технический статус перед этим сообщением
- Локально добавлены правки для ручного редактирования хэштегов draft:
  - `/set_draft_hashtags <draft_id> <tags>`
  - `/clear_draft_hashtags <draft_id>`
- Ручные хэштеги сохраняются в `score_reasons.manual_hashtags` и имеют приоритет над авто-хэштегами.
- Добавлен refresh сообщений draft после изменения хэштегов.
- Тесты по измененным модулям проходили (32 passed).
- Эти конкретные изменения были локальными и ожидали коммита/пуша.

## Текущий продуктовый вектор (по последнему обсуждению)
- Исключить пока `draft_score`.
- Усилять **internet_score** через внешние сигналы трендов:
  - Google Trends (RU),
  - Яндекс Wordstat,
  - дополнительные источники трендов/новостей (AI-assisted).

## Что можно сделать следующим шагом
1. Сразу закоммитить и запушить локальные изменения по ручным хэштегам.
2. Добавить модуль `internet_score` (отдельно от `draft_score`) с весами по источникам трендов.
3. Добавить команды управления темами трендов (whitelist тем) и ручной запуск пересчета.
4. Вынести все правила скоринга в конфиг (без хардкода весов).

